# Проект на Python для диплома

## Численные методы

`lib/odeslib.dll` библиотека, где реализуется метод Рунге-Кутты-Фельберга с адаптивным шагом. В ней уже содержуться нужные уравнения с константами.
https://en.wikipedia.org/wiki/List_of_Runge–Kutta_methods

Первая функция `solve_rkf45` служит для получения значений амплитуд на каждом шаги и записывает их в файл.

Параметры:
- writer: объект, с помощью которого записывается решение
- const_init: массив с управляющими параметрами и начальным распределением
- t0: начальное значение независимой переменной (времени)
- t_end: конечное значение независимой переменной
- tol: допустимая ошибка на шаге (точность)
- h_init: начальный шаг
- h_min: минимально допустимый шаг
- h_max: максимально допустимый шаг
- output_step: шаг по времени, с которым результаты записываются в файл

Вторая функция `nusselt_number` служит для получения числа Нуссельта на последней итерации, и результат выводится в виде значений `e, v, Nu`.

Параметры:
- Вместо const_init передаются параметры в виде массивов `[start, stop, step]` и начальное распределение

Все результаты записываются в csv-файлы.

## Скрипты

1. `solution.py` реализуется библиотечная функция `solve_rkf45`.
2. `number_Nu.py` реализуется библиотечная функция `nusselt_number`.

Для наглядности система ОДУ записанна в файле `math_functions.py`.

Настройки скриптов записываются в конфигурационный файл `json` (Смотреть пример).
Все конфиги обязательно хранить в директории `configs`.

Решение записывается в файл `csv` в директорию `datasets` в папку с именем номером или указанным в config.

Для запуска нужно ввести в консоль команду:
- `python3 solution.py "<name_config>"`.
- `python3 number_Nu.py "<name_config>"`.

<h4>В директории `Analisys` имеются скрипты для анализа решений. </h4>

1. В `fft_analysis.py` делается Фурье преобразование и создаются графики.
Первым аргументом передается имя папки содержащееся в директории `datasets`,
где программа проходится по всем файлам содержащиеся там.
Вторым аргументом передается название величины (столбца из csv-файла).
В результате получаем `image\fft\<имя передаваймой папки>`, где будут все графики.

Для запуска нужно ввести в консоль команду `python3 fft_analysis.py "<name_dir>" "<name_value>"`.

2. 

## Конфигурационный файл

- `initial_conditions` - задаются начальные амплитуды
- `control_constants` - управляемые параметры системы (`e` и `v`).
    - `series` - указание формата передачи параметров. Если `True`, то в виде списка. Если `False`, то задается начальное значение, конечное и шаг `[start, stop, step]`.

Другие константы записанны в `math_functions.py`.
- `algorithm_settings` - настройки для метода Рунге-Кутты-Фельберга `solve_rk45`.
    - `t0` - начальное значение независимой переменной
    - `t_end` - конечное значение независимой переменной
    - `tol` - допустимая ошибка на шаге (точность)
    - `h_init` - начальный шаг
    - `h_min` - минимально допустимый шаг
    - `h_max` - максимально допустимый шаг
    - `output_step` - шаг по времени, с которым результаты записываются в файл
- `name_solutions` - имя папки куда будут выгружаться файлы с решением.
